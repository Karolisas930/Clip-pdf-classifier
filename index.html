<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Service Taxonomy</title>
  <style>
    :root { --bg:#0b0f14; --panel:#111926; --text:#e9eef5; --muted:#9fb0c3; --accent:#4da3ff; }
    * { box-sizing:border-box; }
    body { margin:0; font:14px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, sans-serif; color:var(--text); background:linear-gradient(180deg, #0b0f14, #0a121c); }
    header { padding:24px 16px; border-bottom:1px solid #1d2a3a; background:rgba(0,0,0,.3); position:sticky; top:0; backdrop-filter:saturate(120%) blur(6px); }
    .wrap { max-width:1100px; margin:0 auto; padding:0 12px; }
    h1 { margin:0 0 8px; font-size:20px; }
    .meta { color:var(--muted); font-size:13px; }
    .row { display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
    input[type="search"] {
      flex:1 1 380px; padding:10px 12px; border-radius:10px; border:1px solid #1d2a3a; background:#0e1622; color:var(--text);
      outline:none;
    }
    a.button {
      display:inline-block; padding:10px 14px; border-radius:10px; border:1px solid #1d2a3a; color:var(--text); text-decoration:none; background:#0e1622;
    }
    main { padding:22px 16px 60px; }
    details { background:var(--panel); border:1px solid #162232; border-radius:12px; margin-bottom:8px; }
    summary { cursor:pointer; padding:10px 12px; list-style:none; display:flex; align-items:center; gap:8px; }
    summary::-webkit-details-marker { display:none; }
    .badge { font-size:11px; color:#c7d6e8; background:#0e2238; border:1px solid #24405f; padding:2px 6px; border-radius:999px; }
    .children { padding: 4px 0 10px 18px; }
    .leaf { padding:8px 12px 8px 38px; border-top:1px solid #162232; color:#dbe7f5; }
    .hit { background:#0e1f34; }
    footer { color:var(--muted); padding:22px 16px; border-top:1px solid #1d2a3a; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Service Taxonomy</h1>
      <div class="meta" id="meta">Loading…</div>
      <div class="row">
        <input id="q" type="search" placeholder="Search subcategories (English labels)…" />
        <a class="button" id="download" href="./data/taxonomy.json">Download JSON</a>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="tree">Fetching taxonomy…</div>
  </main>

  <footer class="wrap">
    Uses the live JSON at <code>/data/taxonomy.json</code>. This page is static—no build needed.
  </footer>

<script>
(async function () {
  const out = document.getElementById('tree');
  const metaEl = document.getElementById('meta');
  try {
    const res = await fetch('./data/taxonomy.json', { cache: 'no-store' });
    if (!res.ok) throw new Error('HTTP ' + res.status);
    const data = await res.json();

    // Header meta
    const m = data.meta || {};
    const counts = (m.counts || {});
    const langs = (m.languages || []).join(', ');
    metaEl.textContent =
      `Generated: ${m.generated_at || '—'} • Sections: ${counts.sections||0} • Categories: ${
